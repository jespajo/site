<!doctype html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/png" href="/pencil.png" />
  <link href="https://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet">
  <link href="/201812/style.css" rel="stylesheet">
  <title>bounce</title>
  <style>
    canvas { border: 1px solid black; }
  </style>
  <script>

    let canvas, ctx;

    const ball = {
      radius: 5,
      x: 50,
      y: 50,
      dx: 3,
      dy: 0.2,
      draw: function(){
        ctx.beginPath();
        ctx.ellipse(this.x, this.y, this.radius, this.radius, 0, 0, 2 * Math.PI);
        ctx.fill(); } };

    const step = function(){
      ctx.clearRect(0, 0, 300, 300);
      if (ball.y + ball.radius >= 300) {
        ball.dy = -Math.abs(ball.dy) }
      else if (ball.y - ball.radius <= 0) {
        ball.dy = Math.abs(ball.dy) };
      if (ball.x + ball.radius >= 300) {
        ball.dx = -Math.abs(ball.dx) }
      else if (ball.x - ball.radius <= 0) {
        ball.dx = Math.abs(ball.dx) };
      ball.dy += 0.7;
      if (ball.dx > 0) { ball.dx -= 0.002; }
      else { ball.dx += 0.002; }
      ball.x += ball.dx;
      ball.y += ball.dy;
      if (ball.y + ball.radius >= 300) {
        ball.y = 300 - ball.radius }
      else if (ball.y - ball.radius <= 0) {
        ball.y = ball.radius };
      if (ball.x + ball.radius >= 300) {
        ball.x = 300 - ball.radius }
      else if (ball.x - ball.radius <= 0) {
        ball.x = ball.radius };
      ball.draw();
      window.requestAnimationFrame(step); }

    document.addEventListener("DOMContentLoaded", function(){
      canvas = document.getElementsByTagName("canvas")[0];
      ctx = canvas.getContext("2d");
      window.requestAnimationFrame(step);
    });

  </script>
</head>
<body>
  <other />
  <p><a href="../">home</a> / bounce</p>
  <p><canvas width="300" height="300"></canvas></p>
</body>
</html>
