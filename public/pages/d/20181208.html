<!doctype html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/png" href="/pencil.png" />
    <title>jeff</title>
    <style>
      * { font: 16px monospace; }
      .invisible { display: none; }
    </style>
    <script>
      /* I used function below to get the time of each word
         ... result saved as const timing
      let timing = [];
      document.onkeyup = function(e){
        if(e.keyCode == 32){
            timing.push(melba.currentTime); } }
      */
      const timing = [
        5.874, 6.826, 7.246, 7.832,
        8.713, 10.127, 11.12,
        11.5, 12.102, 14.303, 14.691,
        17.195, 17.694, 18.193, 18.557, 19.112,
        19.977, 20.517, 21.357, 21.729, 21.918,
        22.648, 22.901, 23.344, 23.851, 25.424, 25.709, 26.518, 26.675, 26.927,
        28.079, 28.435, 28.982, 29.481, 29.829,
        31.203, 31.774, 32.289, 32.676,
        33.637, 33.779, 35.144, 35.516,
        36.914, 37.764, 37.945, 38.117 ];
      document.addEventListener("DOMContentLoaded", function(){
        const melba = new Audio();
        melba.src = "/20181208/melba.mp3";
        let button;
        melba.addEventListener("loadeddata", function(){
          button = document.createElement("button");
          button.innerHTML = "jeff rosenstock &ndash; melba";
          button.addEventListener("click", function(){
            melba.play(); });
          document.getElementById("button").appendChild(button); });
        const lyrics = document.getElementById("lyrics");
        let spans = lyrics.querySelectorAll("span");
        spans.forEach(span => {
          span.classList.add("invisible"); });
        let newSpans = [];
        for (let i = 0; i < spans.length; i++) {
          const self = spans[i];
          newSpans.push(self); };
        melba.ontimeupdate = function() {
          if (timing[0]) {
            if (timing[0] < melba.currentTime) {
              newSpans[0].classList.remove("invisible");
              timing.shift();
              newSpans.shift(); }; }; }; });
    </script>
  </head>
  <body>
    <p><a href="./../">home</a> / jeff</p>
    <p>I&rsquo;m going to a gig tonight.<br />
    Jeff Rosenstock is playing at the Reverence Hotel in Footscray.<br />
    I&rsquo;m going to get baked and dance until I&rsquo;m drenched.</p>
    <div id="button"></div>
    <div id="lyrics">
      <p>
        <span>After</span> <span>the</span> <span>storm</span> <span>breaks</span><br />
        <span>Fluorescence</span> <span>radiates</span> <span>off</span><br />
        <span>Skin</span> <span>overflowing</span> <span>with</span> <span>underexposure</span>
      </p>
      <p>
        <span>This</span> <span>was</span> <span>a</span> <span>shit</span> <span>day</span><br />
        <span>Can&rsquo;t</span> <span>power</span> <span>through</span> <span>the</span> <span>haze</span><br />
        <span>I&rsquo;m</span> <span>tired</span> <span>of</span> <span>waiting</span> <span>for</span> <span>it</span> <span>to</span> <span>be</span> <span>over</span>
      </p>
      <p>
        <span>Let&rsquo;s</span> <span>go</span> <span>back</span> <span>to</span> <span>Melbourne</span><br />
        <span>We</span> <span>can</span> <span>start</span> <span>over</span><br />
        <span>Because</span> <span>mistakes</span> <span>get</span> <span>forgotten</span><br />
        <span>Dreams</span> <span>can</span> <span>be</span> <span>remembered</span>
      </p>
    </div>
  </body>
</html>
